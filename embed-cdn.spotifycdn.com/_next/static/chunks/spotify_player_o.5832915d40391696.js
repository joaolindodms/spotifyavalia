try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c9d2f698-f7a8-4bdb-aa4f-286f250e5ee0",e._sentryDebugIdIdentifier="sentry-dbid-c9d2f698-f7a8-4bdb-aa4f-286f250e5ee0")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4847],{28965:(e,t,a)=>{a.d(t,{Yn:()=>o,DD:()=>r,pM:()=>s,Wf:()=>n});var i=a(79385);let n={type:i.c.UNKNOWN,uri:"",uid:"",name:"",images:[],mediaType:"audio",duration:{milliseconds:-1},album:{type:i.c.ALBUM,uri:"",name:"",images:[]},artists:[{type:i.c.ARTIST,uri:"",name:""}],provider:null};var s=function(e){return e[e.REPEAT_NONE=0]="REPEAT_NONE",e[e.REPEAT_CONTEXT=1]="REPEAT_CONTEXT",e[e.REPEAT_TRACK=2]="REPEAT_TRACK",e}({});let r=["not_playing_track","not_playing_context","protocol_limitations","already_playing","already_paused","unknown"];var o=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.LOW=1]="LOW",e[e.NORMAL=2]="NORMAL",e[e.HIGH=3]="HIGH",e[e.VERY_HIGH=4]="VERY_HIGH",e[e.HIFI=5]="HIFI",e}({})},77956:(e,t,a)=>{a.r(t),a.d(t,{createOverturePlayer:()=>k,createPlayerState:()=>P,resolveRestrictions:()=>S,resolveSeekRestrictions:()=>w});var i=a(29575),n=a(52625),s=a(79385),r=a(74305),o=a(28965),l=a(85705);let u=async(e,t,a)=>(a??="com.apple.fps.1_0",(await e.build().withMethod("GET").withHost("https://spclient.wg.spotify.com").withPath(`/soundfinder/v1/unauth/episode/${t}/${a}`).withEndpointIdentifier("/unauth/episode/{episodeId}/{keysystem}").send()).body);var d=a(70827);async function _(e,t,a){let i;let s=(0,n.o_h)(e.uri);try{i=await u(d.n.getInstance(),s?.id,t)}catch(e){throw(0,l.oy)(e,"soundfinder"),e}return c(i,a)}function c(e,t){if("video"===t)return{format:"MANIFEST_ID",mediaType:t,noManifest:!1,fileId:e.video?.[0].manifestId};let a="NONE"!==e.passthrough&&e.passthroughUrl,i=a?e.passthroughUrl:e.url[0];return{format:a?"MP3":e.format?.replace(/_(128|256)/,""),mediaType:t??"audio",noManifest:!!a,url:i,fileId:a?"":e.fileId}}var p=function(e){return e.SUCCESS="success",e.PLAYBACK_STUCK="playback_stuck",e.PLAYBACK_ERROR="playback_error",e.LICENSE_CHANGE="license_change",e.PLAY_RESTRICTED="play_restricted",e.STOP_RESTRICTED="stop_restricted",e.UPDATE_RESTRICTED="update_restricted",e.PAUSE_RESTRICTED="pause_restricted",e.RESUME_RESTRICTED="resume_restricted",e.SKIP_TO_PREV_RESTRICTED="skip_to_prev_restricted",e.SKIP_TO_NEXT_RESTRICTED="skip_to_next_restricted",e.SKIP_TO_NON_EXISTENT_TRACK="skip_to_non_existent_track",e.TOGGLE_REPEAT_CONTEXT_RESTRICTED="toggle_repeat_context_restricted",e.TOGGLE_REPEAT_TRACK_RESTRICTED="toggle_repeat_track_restricted",e.SET_OPTIONS_RESTRICTED="set_options_restricted",e.TOGGLE_SHUFFLE_RESTRICTED="toggle_shuffle_restricted",e.SET_QUEUE_RESTRICTED="set_queue_restricted",e.INTERRUPT_PLAYBACK_RESTRICTED="interrupt_playback_restricted",e.SEEK_TO_RESTRICTED="seek_to_restricted",e.ONE_TRACK_UNPLAYABLE="one_track_unplayable",e.ONE_TRACK_UNPLAYABLE_AUTO_STOPPED="one_track_unplayable_auto_stopped",e.ALL_TRACKS_UNPLAYABLE_AUTO_STOPPED="all_tracks_unplayable_auto_stopped",e.SKIP_TO_NON_EXISTENT_TRACK_AUTO_STOPPED="skip_to_non_existent_track_auto_stopped",e.QUEUE_REVISION_MISMATCH="queue_revision_mismatch",e.VIDEO_PLAYBACK_ERROR="video_playback_error",e.VIDEO_GEORESTRICTED="video_georestricted",e.VIDEO_UNSUPPORTED_PLATFORM_VERSION="video_unsupported_platform_version",e.VIDEO_UNSUPPORTED_CLIENT_VERSION="video_unsupported_client_version",e.VIDEO_UNSUPPORTED_KEY_SYSTEM="video_unsupported_key_system",e.VIDEO_COUNTRY_RESTRICTED="video_country_restricted",e.VIDEO_UNAVAILABLE="video_unavailable",e.VIDEO_CATALOGUE_RESTRICTED="video_catalogue_restricted",e.VIDEO_MANIFEST_DELETED="video_manifest_deleted",e.TIMEOUT="timeout",e.INVALID="invalid",e.PLAYBACK_REPORTING_ERROR="playback_reporting_error",e.UNKNOWN="unknown",e.UNRECOGNIZED="unrecognized",e}({});class g extends Error{constructor(e,t,a,i){super(g.getMessage(t,a,i)),this.type=e,this.code=t,this.reasons=a,this.cause=i}static getMessage(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return t.length>0?`Code '${e}' with reasons '${t.join(", ")}'`:void 0!==a?`Code '${e}' with cause '${a.name}: ${a.message}'`:`Code '${e}'`}}class E extends g{constructor(e,t,a){super(0,e,t,a)}}class T extends g{constructor(e,t,a){super(1,e,t,a)}}var R=a(99032);let y={"com.apple.fps.1_0":"fairplay","com.widevine.alpha":"widevine","com.microsoft.playready":"playready"},m=e=>e.pages?.length&&e.pages[0].items?.length?e.pages[0].items[0]:e,f=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"audio";return t?`@webgate/${y[e]}-license/v1/${a}/license`:`https://spclient.wg.spotify.com/${y[e]}-license/v1/unauth/${a}/license`},h=async function(e,t,a){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"com.widevine.alpha",r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,l={...t.metadata,contextURI:t!==e?e.uri:null},u=l.mediaType;if(t.metadata?.externalResolvedUrl)return(0,i.a2)({uri:t.uri,url:t.metadata?.externalResolvedUrl,fileId:"",metadata:l,logData:r,mediaType:u});if(n.o_h(t.uri)?.type==="episode"){let e="yes"===l.useAuthEndpoint,a=f(s,e,u),n="com.apple.fps.1_0"===s&&o?c(o,u):await _(t,s,u),d={uri:t.uri,licenseEndpoint:a,metadata:l,logData:r,fileId:"",noAuth:!e,...n};return(0,i.a2)(d)}let d=Error(`No valid solution has been found to play this item (${t?.uri})`);throw a.emitSync(R.gd.ERROR,new T(p.ONE_TRACK_UNPLAYABLE,[],d)),d};function A(e){return function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(e=>{let{url:t,height:a,width:i}=e;return!!t&&!!a&&!!i}).map(e=>{let{url:t,width:a,height:i}=e;return{url:t,height:parseInt(i??"0",10),width:parseInt(a??"0",10)}})}({url:e.image_url,height:e.image_height,width:e.image_width},{url:e.image_url_small,height:e.image_height_small,width:e.image_width_small},{url:e.image_url_large,height:e.image_height_large,width:e.image_width_large},{url:e.image_url_xlarge,height:e.image_height_xlarge,width:e.image_width_xlarge})}function S(e){let{playbackState:t}=e;return{canPause:!!t.playing,canResume:!t.playing,canSeek:!0,canSkipPrevious:!1,canSkipNext:!1,canToggleRepeatContext:!1,canToggleRepeatTrack:!1,canToggleShuffle:!1,disallowPausingReasons:t.playing?[]:["already_paused"],disallowResumingReasons:t.playing?["already_playing"]:[],disallowSeekingReasons:[],disallowSkippingPreviousReasons:["unknown"],disallowSkippingNextReasons:["unknown"],disallowTogglingRepeatContextReasons:["unknown"],disallowTogglingRepeatTrackReasons:["unknown"],disallowTogglingShuffleReasons:["unknown"],disallowTransferringPlaybackReasons:[]}}function w(e){let t=e.hasContext||e.isPaused||e.isBuffering;return{canSeek:t??!1,disallowSeekingReasons:t?[]:["not_playing_track"]}}let I=e=>(0,i.Wq)({transport:e,platform_identifier:"Partner spotify embed",config:{preinitMediaElement:!0,enableWithoutEME:!0,unauthenticatedLogs:!0,videoPlayerContainer:".VideoPlayer__container",audioPlayerContainer:".VideoPlayer__container",disallowRobustnessValues:[i.ci.EMPTY]},autoActivateElement:!0}),k=(e,t)=>{let a=I(e);t.data.entity?.hasVideo&&a.on(i.LW.VIDEO_ELEMENT_APPENDED,()=>{document.getElementsByTagName("video")[0]?.setAttribute("poster","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=")});let{clientId:n,correlationId:s}=(0,r.i)();return{playerAPI:function(e,t){let a;let n=function(e){let t,a;let n=new R.JW,s={sessionId:"",timestamp:0,context:{uri:""},index:{pageURI:null,pageIndex:null,itemIndex:null},item:null,shuffle:!1,repeat:o.pM.REPEAT_NONE,speed:1,playbackQuality:{bitrateLevel:o.Yn.UNKNOWN},playbackId:null,positionAsOfTimestamp:0,duration:0,restrictions:{canPause:!1,canResume:!1,canSeek:!1,canSkipNext:!1,canSkipPrevious:!1,canToggleRepeatContext:!1,canToggleRepeatTrack:!1,canToggleShuffle:!1,disallowPausingReasons:["not_playing_track"],disallowResumingReasons:["not_playing_track"],disallowSeekingReasons:["not_playing_track"],disallowSkippingPreviousReasons:["not_playing_context"],disallowSkippingNextReasons:["not_playing_context"],disallowTogglingRepeatContextReasons:["not_playing_context"],disallowTogglingRepeatTrackReasons:["not_playing_context"],disallowTogglingShuffleReasons:["not_playing_context"],disallowTransferringPlaybackReasons:[]},hasContext:!1,isPaused:!1,isBuffering:!1,previousItems:[],nextItems:[],volume:1};function r(e){return{...s,...e,context:{...s.context,...e?.context}}}function l(e){s=r(e),n.emit(R.gd.UPDATE,s)}async function u(){l(P(await e.getCurrentState()))}async function d(e){e?!t&&(t=setTimeout(()=>{t=null,l({isBuffering:e})},200)):t?(clearTimeout(t),t=null,l({isBuffering:e})):a||(a=setTimeout(()=>{a=null,l({isBuffering:e})},400))}async function _(){u(),n.emit(R.gd.TRACK_LOADED,s)}async function c(){let t=await e.getCurrentState(),a=P(t),i=a?{...a,isBuffering:!1,hasContext:!1,isPaused:!1,positionAsOfTimestamp:s.duration}:{positionAsOfTimestamp:s.duration,position:s.duration,isBuffering:!1,hasContext:!1,isPaused:!1,restrictions:S(t)},o=r(i),u=w(i);l({...o,restrictions:{...i.restrictions,...u}}),n.emit(R.gd.TRACK_ENDED,s)}return e.on(i.LW.ERROR,e=>{let{error:t}=e.data;t.unrecoverable?n.emit(R.gd.ERROR,new T(p.PLAYBACK_ERROR,[],t)):n.emit(R.gd.ERROR,new E(p.PLAYBACK_ERROR,[],t))}),e.on(i.LW.PAUSED,u),e.on(i.LW.PROGRESS,async()=>{Date.now()-s.timestamp>=1e3&&u(),(s.isBuffering||t)&&!(await e.getCurrentState()).playbackState.buffering&&d(!1)}),e.on(i.LW.TRACK_LOADED,_),e.on(i.LW.TRACK_ENDED,c),e.on(i.LW.LIST_ENDED,c),e.on(i.LW.BUFFERING_START,async()=>{await d(!0)}),e.on(i.LW.BUFFERING_END,async()=>{await d(!1)}),e.on(i.LW.AUTOPLAY_FAILED,async()=>{await d(!1)}),e.on(i.LW.BEFORE_TRACK_LOAD,async()=>{await d(!0)}),e.on(i.LW.POSITION_CHANGED,async()=>{(await e.getCurrentState()).playbackState.playing&&await d(!0)}),n}(e),s=null,r="PlayerOverture_UnknownReferrer",l={unloadedSeekPosition:0,playArgs:null},u=async()=>(void 0===a&&(a=(await e.getMediaConfig()).keysystem),a);return n.addListener(R.gd.UPDATE,e=>{let{data:t}=e;s=t}),u(),{getCapabilities:()=>({canChangeSpeed:!1,canChangeVolume:!0,canPlayMultipleContextPages:!1,maxNextTracks:0,hasDecoratedQueue:!1}),canPlayEncryptedContent:async()=>await u()!==void 0,getEvents:()=>n,getState:()=>s,getReferrer:()=>r,setReferrer(e){r=e},async play(s,r,o,u){if(n.emitPlaySync(s,r,o??{}))return;let d=m(s),_=await h(s,d,n,a,t,u),c=(0,i.X7)({tracks:[_]}),p={index:o?.skipTo?.index??void 0,initialPosition:o?.seekTo??0};await e.playList(c,p),l={playArgs:[s,r,o],unloadedSeekPosition:0}},async pause(){!n.emitPauseSync()&&await e.pause()},async resume(){if((await e.getCurrentState()).track){if(n.emitResumeSync())return;await e.resume();return}if(l.playArgs){let[e,t,a]=l.playArgs;await this.play(e,t,{...a,seekTo:l.unloadedSeekPosition});return}},async skipToNext(){!n.emitSkipToNextSync()&&await e.nextTrack()},async skipTo(){throw Error("Not implemented")},async skipToPrevious(){!n.emitSkipToPreviousSync()&&await e.previousTrack()},async seekTo(t){if(!(await e.getCurrentState()).track){l.unloadedSeekPosition=t;return}await e.seek(t)},async seekForward(t){let a=(await e.getCurrentState()).playbackState.position;await e.seek(a+t)},async seekBackward(t){let a=(await e.getCurrentState()).playbackState.position;await e.seek(a-t)},async setShuffle(){throw Error("setShuffle is not supported in Overture")},async setSpeed(){throw Error("setSpeed is not supported in Overture")},async setVolume(t){await e.setVolume(t)},async refreshCurrentContext(){},async updateContext(){throw Error("Updating context not possible with Overture.")}}}(a,{clientId:n,correlationId:s})}};function P(e){var t;if(null===e)return null;let a=e.playbackState,i=e.track,r=i?.metadata,l=function(e){let t=e.track,a=t?.metadata;return a?.contextURI||t?.uri||null}(e);return l?{sessionId:"",timestamp:Date.now(),context:{uri:l??"",metadata:r},index:{pageURI:null,pageIndex:null,itemIndex:null},item:i?(t=a.duration,null===i?null:(0,n.U_m)(i.uri)||(0,n.PkR)(i.uri)?function(e,t){let a=e.metadata;return{type:s.c.TRACK,uri:e.uri,uid:null,name:a.title??"",mediaType:e.mediaType,duration:{milliseconds:t},album:{type:s.c.ALBUM,uri:a.album_uri??"",name:a.album_title??"",images:A(a)},artists:[{type:s.c.ARTIST,uri:a.artist_uri??"",name:a.artist_name??""}],isLocal:(0,n.PkR)(e.uri),isExplicit:!1,is19PlusOnly:!1,provider:null,get images(){return this.album.images}}}(i,t):(0,n.gHQ)(i.uri)?function(e,t){let a=e.metadata;return{type:s.c.EPISODE,uri:e.uri,uid:null,name:a.title??"",mediaType:e.mediaType,duration:{milliseconds:t},show:{type:s.c.SHOW,uri:a.album_uri??"",name:a.album_title??"",images:A(a)},provider:null,get images(){return this.show.images}}}(i,t):{...o.Wf,uri:i.uri,metadata:i.metadata||null}):null,shuffle:!1,repeat:null,speed:1,playbackQuality:{bitrateLevel:o.Yn.UNKNOWN},playbackId:null,positionAsOfTimestamp:a.position,duration:a.duration,restrictions:{...S(e),...w({hasContext:!!i&&!!l,isPaused:!a.playing,isBuffering:!1})},hasContext:!!i&&!!l,isPaused:!a.playing,volume:a.volume,previousItems:[],nextItems:[]}:null}}}]);